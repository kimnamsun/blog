---
title: "nxë¡œ ëª¨ë…¸ë ˆí¬ êµ¬ì¶•í•˜ê¸° (ì‚½ì§ˆê¸°ë¡)"
date: 2023-10-09
---

> nxë¡œ ëª¨ë…¸ë ˆí¬ë¥¼ êµ¬ì¶•í•´ë³¼ ìˆ˜ ìˆëŠ” ê¸°íšŒê°€ ìˆì–´ì„œ í•´ë³´ì•˜ë‹¤. ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•´ì„œëŠ” ì ì ˆí•˜ì§€ ì•Šì€ ê¸€ì´ë©°, ë‚´ê°€ ì–´ë–¤ ì‚½ì§ˆì„ í–ˆëŠ”ì§€ì— ëŒ€í•œ íšŒê³ ì— ê°€ê¹Œìš´ ê¸€ì´ë‹¤.

## ëª¨ë…¸ë ˆí¬ë¥¼ êµ¬ì¶•í•˜ê²Œ ëœ ê³„ê¸°

vueë¡œ ëœ ê¸°ì¡´ ë ˆê±°ì‹œ í”„ë¡œì íŠ¸ë¥¼ ìœ ì§€ë³´ìˆ˜í•˜ê²Œ ë˜ë©´ì„œ, ê³µí†µí™”ê°€ ì „í˜€ ì•ˆë˜ì–´ìˆëŠ” ì½”ë“œ ë¬´ë”ê¸°ë¥¼ ë°œê²¬í•˜ê²Œ ë˜ì—ˆë‹¤.  
ì˜ˆë¥¼ ë“¤ë©´ ì´ëŸ° ì‹ì´ì˜€ë‹¤.
ë ˆê±°ì‹œ í”„ë¡œì íŠ¸ëŠ” í•œ í˜ì´ì§€ì— 3~4ê°œ ê°€ëŸ‰ì˜ ë©”ë‰´ê°€ ì¡´ì¬í–ˆê³ , ê·¸ ë©”ë‰´ë“¤ì€ ê°ê°ì˜ ëª¨ë“ˆë¡œì„œ ë™ì‘í•˜ë©° ê°ê° ë‹¤ë¥¸ repositoryë¡œ ë¶„ë¦¬ë˜ì–´ìˆì—ˆë‹¤.

lib í´ë” ë‚´ì—ëŠ” ëª¨ë“ˆì—ì„œ ì‚¬ìš©í•˜ëŠ” utilì„± ì½”ë“œë“¤ì´ ìˆì—ˆëŠ”ë°, ê°€ë ¹ dateì™€ ê´€ë ¨ëœ ì½”ë“œë“¤ì´ ìˆëŠ” `date.js`ëŠ” ê° ëª¨ë“ˆì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì½”ë“œì´ë‹¤ë³´ë‹ˆ, ê° ëª¨ë“ˆì—ì„œ ë³µì‚¬ ë¶™ì—¬ë„£ê¸°ë¥¼ í†µí•´ ì‚¬ìš©í•˜ê³  ìˆì—ˆë‹¤.

ë‚´ë¶€ì ì¸ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ í†µí•´ ê³µí†µí™”í•  ì½”ë“œë¥¼ ë½‘ì•„ë‚´ê³ , ê·¸ ì½”ë“œë¥¼ ê³µí†µ ëª¨ë“ˆë¡œ ë¶„ë¦¬í•˜ì—¬ ì‚¬ìš©í•˜ìëŠ” ì˜ê²¬ì´ ë‚˜ì™”ë‹¤.  
ê·¸ë ‡ê²Œ í•´ì„œ, í…ŒìŠ¤íŠ¸ë¡œ `ì•„ì£¼ ì‘ì€ ëª¨ë…¸ë ˆí¬` ë§Œë“¤ê¸°ë¥¼ ì‹œì‘í•˜ê²Œ ë˜ì—ˆë‹¤.

## ì¡°ì‚¬í•œ ê²ƒë“¤

- ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ ì–´ë–¤ë°©ì‹ìœ¼ë¡œ êµ¬ì„±í–ˆëŠ”ê°€?
- ëª¨ë…¸ë ˆí¬ ë¹Œë“œì‹œìŠ¤í…œ

- ë²ˆë“¤ëŸ¬

- í…ŒìŠ¤íŒ…íˆ´

- ë¬¸ì„œí™” ì–´ë–»ê²Œ í•  ê²ƒì¸ì§€

> ëª¨ë…¸ë ˆí¬ë¥¼ êµ¬ì„±í•˜ê¸° ì „ì— í•„ìš”í•œ ì‚¬ì „ì¡°ì‚¬ë“¤ì„ ìœ„ì™€ ê°™ì´ ì§„í–‰í–ˆê³ , ê°™ì´ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê¸°ë¡œ í•œ íŒ€ì›ë¶„ì€ turborepo, ë‚˜ëŠ” nxë¥¼ ì„ íƒí•´ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê¸°ë¡œ í–ˆë‹¤.

## nxë¥¼ ì„ íƒí•œ ì´ìœ 

- turborepoì— ë¹„í•´ í’ë¶€í•œ ìƒíƒœê³„
- ë¶„ì‚° ìºì‹± (turborepo, nx ë‘˜ë‹¤ ì§€ì›)
- ì´ˆê¸° ëª¨ë…¸ë ˆí¬ ê°œë°œ í™˜ê²½ êµ¬ì¶• ë¹„ìš©ì„ í¬ê²Œ ì¤„ì—¬ì¤Œ.
- ì˜ì¡´ì„± ê·¸ë˜í”„ ì‹œê°í™” ê¸°ëŠ¥ (turborepo, nx ë‘˜ë‹¤ ì§€ì›)

## nxë¡œ ëª¨ë…¸ë ˆí¬ êµ¬ì¶•í•´ë³´ê¸°

- êµ¬ì¶•í™˜ê²½ : `nx`, `vite`, `pnpm`

### í…ŒìŠ¤íŠ¸í•´ë³´ë ¤ê³  í•˜ëŠ” ê²ƒ.

- nx, vite, pnpmìœ¼ë¡œ ëª¨ë…¸ë ˆí¬ë¥¼ êµ¬ì„±í•œë‹¤.

- lib ë‚´ì˜ commonì„± util ì½”ë“œë¥¼ exportí•˜ëŠ” common íŒ¨í‚¤ì§€ì™€ vue ì»´í¬ë„ŒíŠ¸ë¥¼ exportí•˜ëŠ” vue íŒ¨í‚¤ì§€ë¡œ êµ¬ì„±í•œë‹¤.

- ë§Œë“  ê³µí†µëª¨ë“ˆì„ npmì— publish í•œë‹¤.

- publishí•œ ê³µí†µëª¨ë“ˆì„ vue í”„ë¡œì íŠ¸ ë‚´ì—ì„œ importí•´ì„œ ì‚¬ìš©í•´ë³¸ë‹¤.

- changesetì„ í†µí•´ ë²„ì „ê´€ë¦¬ë¥¼ í•´ë³¸ë‹¤.
- vitestë¡œ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•´ë³¸ë‹¤.

## pnpm ì„¤ì¹˜

```jsx
npm install -g pnpm

yarn global add pnpm
```

## nxë¡œ í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°

```jsx
npx create-nx-workspace --pm pnpm
```

![](https://velog.velcdn.com/images/nsunny0908/post/8d39d51d-9ab0-44d2-9ee5-cc568488e5d3/image.png)

### ğŸš¨ ê³„ì† nx cloud ì„¤ì •ì´ ì•ˆë˜ì–´ìˆë‹¤ëŠ” ì—ëŸ¬.

![](https://velog.velcdn.com/images/nsunny0908/post/7d6fd7c7-4e7e-4dbf-9612-dc5d5459bea7/image.png)

-> âœ… Enable distributed caching to make your CI faster Â· No ë¥¼ ì„ íƒí•˜ë‹ˆê¹Œ nx cloudë¥¼ ìë™ìœ¼ë¡œ ì„¤ì¹˜í•˜ì§€ ì•Šì•˜ìŒ.

## íŒ¨í‚¤ì§€ ìƒì„±í•˜ê¸°

```jsx

nx g npm-package packages/common

nx g npm-package packages/vue

```

### ğŸš¨ nx commandë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ì—ëŸ¬

![](https://velog.velcdn.com/images/nsunny0908/post/b72f8a78-b787-4791-bc53-ab7a4b73649a/image.png)

-> âœ… nx global ì„¤ì¹˜

```
yarn global add nx
```

## package.jsonì— workspaces ì„¤ì •

```json
{
  "name": "@core-monorepo/source",
  "version": "0.0.0",
  "license": "MIT",
  "workspaces": ["packages/*"],
  ...
}
```

ê·¸ëŸ¬ë©´ í´ë”êµ¬ì¡°ëŠ” ì´ë ‡ê²Œ ë¨.

```
â”œâ”€â”€ packages
â”‚Â Â  â”œâ”€â”€ common
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ CHANGELOG.md
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ dist
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ node_modules
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ package.json
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ pnpm-lock.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ project.json
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ src
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ tsconfig.json
â”‚Â Â  â”‚Â Â  â””â”€â”€ vite.config.js
â”‚Â Â  â””â”€â”€ vue
â”‚Â Â      â”œâ”€â”€ CHANGELOG.md
â”‚Â Â      â”œâ”€â”€ dist
â”‚Â Â      â”œâ”€â”€ node_modules
â”‚Â Â      â”œâ”€â”€ package.json
â”‚Â Â      â”œâ”€â”€ pnpm-lock.yaml
â”‚Â Â      â”œâ”€â”€ project.json
â”‚Â Â      â”œâ”€â”€ src
â”‚Â Â      â”œâ”€â”€ tsconfig.json
â”‚Â Â      â””â”€â”€ vite.config.ts
```

## common íŒ¨í‚¤ì§€ ì‘ì„±

### dependency ì¶”ê°€

```jsx
pnpm add dayjs
```

### vite.config.js ì‘ì„±

```js
import { defineConfig } from "vite";
import path from "path";
import dts from "vite-plugin-dts";
import tsconfigPaths from "vite-tsconfig-paths";

export default defineConfig({
  plugins: [
    // TypeScript ì†ŒìŠ¤ ì½”ë“œì—ì„œ ìë™ìœ¼ë¡œ íƒ€ì… ì •ì˜ íŒŒì¼ ìƒì„±.
    dts(),
    // tsconfig.json íŒŒì¼ì—ì„œ ì •ì˜í•œ ê²½ë¡œ ë³„ì¹­ì„ ì‚¬ìš©í•´ ëª¨ë“ˆ ê²½ë¡œë¥¼ í•´ì„
    tsconfigPaths(),
  ],
  build: {
    lib: {
      // ì§„ì…ì  íŒŒì¼ ê²½ë¡œë¥¼ ì§€ì •
      entry: path.resolve(__dirname, "src/index.ts"),
      name: "@core-monorepo/common",
      // commonjsì™€ ES ëª¨ë“ˆì„ ë¹Œë“œ
      formats: ["es", "cjs"],
      fileName: (format) => `core-common.${format}.js`,
    },
  },
});
```

### package.jsonì— script ì‘ì„±

```json
{
  "scripts": {
    "build": "tsc && vite build"
  }
}
```

### viteë¡œ build

```
pnpm run build
```

## vue íŒ¨í‚¤ì§€ ì‘ì„±

### package.jsonì— common íŒ¨í‚¤ì§€ dependency ì¶”ê°€

- vue ì»´í¬ë„ŒíŠ¸ì—ì„œ common íŒ¨í‚¤ì§€ ë‚´ì˜ util ì½”ë“œë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ common íŒ¨í‚¤ì§€ë¥¼ dependencyë¡œ ì¶”ê°€í•´ì¤€ë‹¤.

```json
{
  "dependencies": {
    "@nx-monorepo/common": "../common/dist"
  }
}
```

-> npm publish ì´í›„ì— ìˆ˜ì •í•´ì¤„ ê²ƒ.

### vite.config.js ì‘ì„±

```js
import { defineConfig } from "vite";
import path from "path";
import dts from "vite-plugin-dts";
import tsconfigPaths from "vite-tsconfig-paths";

export default defineConfig({
  plugins: [
    dts({
      insertTypesEntry: true, // ì»´í¬ë„ŒíŠ¸ íƒ€ì… ìƒì„±
    }),
    tsconfigPaths(),
  ],
  resolve: {
    alias: {
      vue: "vue/dist/vue.esm-bundler.js",
    },
  },
  build: {
    lib: {
      entry: path.resolve(__dirname, "src/index.ts"),
      name: "@core-monorepo/vue",
      formats: ["es", "cjs"],
      fileName: (format) => `core-vue.${format}.js`,
    },
  },
  rollupOptions: {
    external: ["vue"],
    output: {
      globals: {
        vue: "Vue",
      },
    },
  },
});
```

### ğŸš¨ vue íŒ¨í‚¤ì§€ë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•œ ê°„ë‹¨í•œ vue ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í–ˆëŠ”ë°, index.tsì—ì„œ exportê°€ ì•ˆëë‹¤.

![](https://velog.velcdn.com/images/nsunny0908/post/49b699f0-801c-44fa-a7da-4c934a75443e/image.png)

-> âœ… ë¬¸ì œëŠ” `env` íŒŒì¼ì˜ ë¶€ì¬ì˜€ë‹¤.

### env íŒŒì¼ ìƒì„±

```jsx
declare module '*.vue' {
  import Vue from 'vue';
  export default Vue;
}
```

### shims-vue.d.ts

ê·¸ëŸ¬ë©´ ì´ íŒŒì¼ì´ ë­”ì§€ì— ëŒ€í•´ ì•Œì•„ë³´ì.

> TypeScript í”„ë¡œì íŠ¸ì—ì„œ Vue.js ë‹¨ì¼ íŒŒì¼ ì»´í¬ë„ŒíŠ¸(**`.vue`** íŒŒì¼)ë¥¼ ì‚¬ìš©í•  ë•Œ í•„ìš”í•œ TypeScript íƒ€ì… ì •ì˜ íŒŒì¼

ì´ íŒŒì¼ì„ ì‚¬ìš©í•˜ë©´ Vue.js ì»´í¬ë„ŒíŠ¸ë¥¼ íƒ€ì… ì•ˆì „í•˜ê²Œ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ê·¸ë˜ì„œ ì™œì“°ëŠ”ë°..?

ë³´í†µ **`.vue`** íŒŒì¼ì—ëŠ” HTML í…œí”Œë¦¿, JavaScript ì½”ë“œ, ê·¸ë¦¬ê³  CSS ìŠ¤íƒ€ì¼ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ë° ì´ë ‡ê²Œ ì„¸ ìœ í˜•ì´ í•¨ê»˜ ìˆëŠ” íŒŒì¼ì„ TypeScriptì—ì„œ ì •í™•í•˜ê²Œ íƒ€ì… ê²€ì‚¬í•˜ê¸°ëŠ” ì–´ë µê¸° ë•Œë¬¸ì— **`shims-vue.d.ts`** íŒŒì¼ì´ ts í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ê¸° ì‰½ë„ë¡ ë„ì™€ì¤€ë‹¤.

### ğŸš¨ vue packageë¥¼ viteë¡œ buildí•  ë•Œ parse errorê°€ ë‚¬ë‹¤.

![](https://velog.velcdn.com/images/nsunny0908/post/3761d100-2bbc-46cc-8aa5-bfe7e0ae0381/image.png)

-> âœ… vite.config.jsì— vite-plugin-vue2ì˜ `createVuePlugin`ë¥¼ import í•´ì¤Œ.

```js
import { createVuePlugin as vue } from 'vite-plugin-vue2';

export default defineConfig({
  plugins: [
    vue(),
    dts({
      insertTypesEntry: true,
    }),
    tsconfigPaths(),
  ],
  ...
});
```

### createVuePlugin ì¶”ê°€í•´ì¤˜ì•¼í•˜ëŠ” ì´ìœ 

**`vite-plugin-vue2`** : Vue 2ë¥¼ ì§€ì›í•˜ëŠ” Vite í”ŒëŸ¬ê·¸ì¸  
**`vite-plugin-vue2`** ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ í•´ë‹¹ í”ŒëŸ¬ê·¸ì¸ì—ì„œ ì œê³µí•˜ëŠ” **`createVuePlugin`** í•¨ìˆ˜ë¥¼ **`vite.config.js`** íŒŒì¼ì—ì„œ ê°€ì ¸ì™€ì•¼ í•œë‹¤.  
ì´ í•¨ìˆ˜ëŠ” Vue 2 ë¥¼ ìœ„í•œ Vite í”ŒëŸ¬ê·¸ì¸ì„ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.

### ğŸš¨ Rollup failed to resolve import "@nx-monorepo/common"

![](https://velog.velcdn.com/images/nsunny0908/post/40d83d2d-5d51-4c5e-9d58-8599ff5aee5f/image.png)

-> âœ… vite.config.js ì— resolve.aliasë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

```js
export default defineConfig({
 ...
  resolve: {
    alias: {
      vue: 'vue/dist/vue.esm-bundler.js',
      '@nx-monorepo/common': path.resolve(__dirname, '../common/dist'),
    },
  },
});
```

### illegal operation on a directory

![](https://velog.velcdn.com/images/nsunny0908/post/90a64357-cd58-47dd-a1a4-d43489cf854f/image.png)

-> âœ… distì— ëŒ€í•œ ê²½ë¡œê°€ ì˜ëª»ë˜ì–´ìˆì—ˆë‹¤.

```js
export default defineConfig({
 ...
  resolve: {
    alias: {
      vue: 'vue/dist/vue.esm-bundler.js',
      // dist ê²½ë¡œ ìˆ˜ì •
      '@nx-monorepo/common': path.resolve(__dirname, '../common'),
    },
  },
});
```

## npm publish

### npm login

```jsx
npm login
```

### ğŸš¨ 403 Forbidden Permission denied

-> âœ… github tokenë°›ì•„ì•¼í•¨

1. ì˜¤ë¥¸ìª½ ìƒë‹¨ì— ìˆëŠ” ì‚¬ìš©ì ì´ë¯¸ì§€ë¥¼ í´ë¦­í•˜ê³  "Settings"ë¥¼ ì„ íƒ.
   ![](https://velog.velcdn.com/images/nsunny0908/post/39cdefc5-b772-4597-919b-03d17781f588/image.png)

2. ì™¼ìª½ ë©”ë‰´ì—ì„œ "Developer settings" ì•„ë˜ì— ìˆëŠ” "Personal access tokens"ë¥¼ ì„ íƒ

![](https://velog.velcdn.com/images/nsunny0908/post/ea5361cd-9ec0-450d-b83e-c46edfca9434/image.png)

3. "Generate token"ì„ í´ë¦­í•˜ì—¬ ìƒˆ í† í°ì„ ìƒì„±. "write:packages"ì™€ "read:packages" ì„ íƒ.

![](https://velog.velcdn.com/images/nsunny0908/post/e0f24f9f-2c48-46d1-9231-c9bb538beb21/image.png)

4. npm config set

```jsx
npm config set //npm.pkg.github.com/:_authToken=<YOUR_TOKEN>
```

### ğŸš¨ 402 Payment Required - You must sign up for private packages

- package.json ì—ì„œ "private": false ë¥¼ ì¶”ê°€í•´ë„ ì—¬ì „íˆ ê°™ì€ ì—ëŸ¬ê°€ ë–´ë‹¤.

- npm logout í›„ì— ë‹¤ì‹œ í•´ë„ ì—¬ì „í–ˆìŒ.

-> âœ… publish ì‹œì— --access public ì˜µì…˜ì„ ì¶”ê°€í•´ì¤€ë‹¤.

```jsx
npm publish --access=public
```

### ğŸš¨ 404 Not Found - Scope not found

-> âœ… ì˜¤ê°€ë‹ˆì œì´ì…˜ ì¶”ê°€

![](https://velog.velcdn.com/images/nsunny0908/post/5a26f63b-c597-498a-a28d-14b7f9b7709a/image.png)

-> ë“œë””ì–´ ì„±ê³µ! ğŸ‰

## vue projectì—ì„œ core-monorepo/vue íŒ¨í‚¤ì§€ë¥¼ importí•´ì„œ ì‚¬ìš©í•˜ê¸°

- publishëœ vue íŒ¨í‚¤ì§€ë¥¼ vue í”„ë¡œì íŠ¸ì—ì„œ importí•´ì„œ ì‚¬ìš©í•´ë³´ì.
- vue packageì—ì„œ common packageì˜ ë¡œì»¬ ê²½ë¡œë¥¼ ë°”ë¼ë³´ê³  ìˆì–´ì„œ, ì´ ë¶€ë¶„ì„ ì‹¤ì œ publishëœ íŒ¨í‚¤ì§€ë¥¼ ë°”ë¼ë³´ë„ë¡ ìˆ˜ì •í•´ì¤€ ë’¤ ë‹¤ì‹œ publish í•´ì£¼ì—ˆë‹¤.

### ğŸš¨ Module not found: Error: Can't resolve '@core-monorepo/vue'

- buildëœ ê²°ê³¼ë¬¼ë„ ë’¤ì§€ê³ , index.tsë¥¼ ìˆ˜ì •í•´ë³´ê¸°ë„ í•˜ê³  ê°–ì€ ì‚½ì§ˆì„ ë‹¤í–ˆëŠ”ë° ê³„ì† ê°™ì€ ì—ëŸ¬ê°€ ë–´ëŠ”ë° ì—„ì²­ í—ˆë¬´í•˜ê²Œ í•´ê²°ëë‹¤.

-> âœ… rollupOptionsì˜ hierarchyê°€ ì˜ëª»ë˜ì–´ìˆì—ˆë‹¤.

```js
export default defineConfig({
  build: {
    lib: {
      entry: path.resolve(__dirname, "src/index.ts"),
      name: "@core-monorepo/vue",
      formats: ["es", "cjs"],
      fileName: (format) => `core-vue.${format}.js`,
    },
  },
  rollupOptions: {
    external: ["vue", "@core-monorepo/common"],
    output: {
      globals: {
        vue: "Vue",
      },
    },
  },
});
```

```js
export default defineConfig({
  build: {
    lib: {
      ...
    },
    rollupOptions: {
      external: ['vue', '@core-monorepo/common'],
      output: {
        globals: {
          vue: 'Vue',
        },
      },
    },
  },
});
```

- vite.config íŒŒì¼ì„ jsë¡œ ì‘ì„±í–ˆë”ë‹ˆ ë°œê²¬í•˜ì§€ ëª»í–ˆë˜ ì•„ì£¼ ì‚¬ì†Œí•œ ì—ëŸ¬ì˜€ë‹¤. ğŸ«¨

## changeset ìœ¼ë¡œ ë²„ì „ê´€ë¦¬í•˜ê¸°

### 1. pnpm-workspace.yaml íŒŒì¼ ìƒì„±

```yaml
packages:
  - packages/* # ì›Œí¬ìŠ¤í˜ì´ìŠ¤ íŒ¨í‚¤ì§€ì˜ ê²½ë¡œ
```

### 2. **@changesets/cli ì„¤ì¹˜**

- ì›Œí¬ìŠ¤í˜ì´ìŠ¤ íŒ¨í‚¤ì§€ë¡œ changesets ì„¤ì¹˜

```
pnpm add -w --save-dev @changesets/cli
```

### `-w` ì˜µì…˜

- **`--workspace-root`** í”Œë˜ê·¸ì‚¬ìš© ì—¬ë¶€ì— ëŒ€í•œ ì˜µì…˜
- ì¼ë°˜ì ìœ¼ë¡œ nx ëª¨ë…¸ë ˆí¬ì—ì„œëŠ” ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë£¨íŠ¸ì—ì„œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.  
  ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë‚´ì˜ ëª¨ë“  í”„ë¡œì íŠ¸ê°€ ê³µí†µ íŒ¨í‚¤ì§€ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìœ¼ë©°, íŒ¨í‚¤ì§€ ê°„ì˜ ì¢…ì†ì„± ì¶©ëŒì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

### 3. changeset init

```
npx changeset init
```

### 4. ë³€ê²½ì‚¬í•­ ìƒì„± í›„, npx changeset

```
npx changeset
```

- ë³€ê²½í•  íŒ¨í‚¤ì§€, ë²„ì „ ë“± ì„ íƒ (ì„ íƒí• ë•Œ ìŠ¤í˜ì´ìŠ¤ë°”ë¡œ ì„ íƒí•´ì•¼í•œë‹¤.)

### 5. changeset version

```
npx changeset version
```

![](https://velog.velcdn.com/images/nsunny0908/post/7102e7df-60d4-480f-9967-c459cd3af7fb/image.png)

## vitestë¡œ í…ŒìŠ¤íŠ¸ì½”ë“œ ì‘ì„±í•˜ê¸°

### 1. vitest ì„¤ì¹˜

```
pnpm add -w --save-dev vitest
```

### 2. vitest.config.ts ì‘ì„±

```jsx
import vue2 from "@vitejs/plugin-vue2";
import { fileURLToPath } from "node:url";
import path from "path";
import { defineConfig } from "vitest/config";

export default defineConfig({
  plugins: [vue2()],
  // test ì½”ë“œ ë‚´ì—ì„œ @ alias ì‚¬ìš©ì„ ìœ„í•´ ì…‹íŒ…
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
  test: {
    // ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì„ ëª…ì‹œ
    environment: "jsdom",
    root: fileURLToPath(new URL("./", import.meta.url)),
  },
});
```

### 3. jsdom ì„¤ì¹˜

```
pnpm add -w -D jsdom
```

### âœ… vue ë²„ì „ì´ 2.7.0 ë¯¸ë§Œì´ë¼ë©´, vue, vue-template-compiler ë²„ì „ ì—…ë°ì´íŠ¸ í•´ì¤€ë‹¤.

## docusaurusë¡œ ë¬¸ì„œí™”

### package ê²½ë¡œ ë°‘ì—ì„œ docusaurus í”„ë¡œì íŠ¸ ìƒì„±

```jsx
npx create-docusaurus
```

â†’ âœ… node ë²„ì „ê³¼ npm ë²„ì „ì´ ë§ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì˜¤ë¥˜ê°€ ëœ¨ë©´ ë²„ì „ ì—…ë°ì´íŠ¸ë¥¼ í•´ì£¼ë©´ ëœë‹¤.

## ë!

- ë‘ì„œ ì—†ê³  ë¯¸í¡í•œ ê¸€ì´ì§€ë§Œ, ë§ì€ ì‚½ì§ˆ ëì— ê²°êµ­ ëª¨ë…¸ë ˆí¬ êµ¬ì¶•ì— ì„±ê³µí•œ ê±¸ ê¸°ë…(?)ìœ¼ë¡œë‚˜ë§ˆ ê¸€ë¡œ ë‚¨ê¸°ê³  ì‹¶ì—ˆë‹¤.

## ì°¸ê³ ìë£Œ

https://if1live.github.io/posts/escape-from-jest-jest-is-slow/  
https://velog.io/@saeeng/VITE-VITEST-migrate-from-Jest  
[https://velog.io/@gu2144/Turborepoë¡œ-ëª¨ë…¸ë ˆí¬-ê°œë°œ-ê²½í—˜-ë„“í˜€ë³´ê¸°](https://velog.io/@gu2144/Turborepo%EB%A1%9C-%EB%AA%A8%EB%85%B8%EB%A0%88%ED%8F%AC-%EA%B0%9C%EB%B0%9C-%EA%B2%BD%ED%97%98-%EB%84%93%ED%98%80%EB%B3%B4%EA%B8%B0)  
https://github.com/sungkwangkim/yarn-berry-test/tree/8-final  
https://engineering.linecorp.com/ko/blog/monorepo-with-turborepo  
https://d2.naver.com/helloworld/7553804
